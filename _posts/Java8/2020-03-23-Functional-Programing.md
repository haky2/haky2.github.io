---
title: 함수형 관점으로 생각하기
tags: 
    - java
categories: JAVA
layout: post
---

#### 공유된 가변 데이터
- 변수가 예상하지 못한 값을 갖는 이유는 결국 우리가 유지보수하는 시스템의 여러 메서드에서 공유된 가변 데이터 구조를 읽고 갱신하기 때문.
- 순수 메서드 (부작용 없는 메서드) : 자신을 포함하는 클래스의 상태 그리고 다른 객체의 상태를 바꾸지 않으며 return문을 통해서만 자신의 결과를 반환하는 메서드 

#### 선언형 프로그래밍
- `어떻게`에 집중하는 프로그래밍 형식
- 작업을 어떻게 수행할 것인지에 집중하는 방법
- 우리가 원하는 것이 무엇이고 시스템이 어떻게 그 목표를 달성할 것인지 등의 규칙을 정함
- 문제 자체가 코드로 명확하게 드러난다는 점이 강점

#### 함수형 프로그래밍
- 선언형 프로그래밍을 따르는 대표적인 방식
- 부작용이 없는 계산을 지향
- 람다 표현식, 동작을 전달하는 기능, 스트림을 활용하여 자연스럽게 읽고 쓸 수 있는 코드를 구현하고 복잡한 질의를 표현
- 순수 함수형 프로그래밍 : 함수 그리고 if-then-else 등의 수학적 표현만 사용하는 방식
- 함수형 프로그래밍 : 시스템의 다른 부분에 영향을 미치지 않는다면 내부적으로는 함수형이 아닌 기능도 사용하는 방식

#### 함수형 자바
- 자바는 순수 함수형이 아니라 함수형 프로그램을 구현
- 함수나 메서드는 지역 변수만을 변경해야 함수형
- 함수나 메서드에서 참조하는 객체가 있다면 그 객체는 불변 객체여야 함 (객체의 모든 필드가 final, 모든 참조 필드는 불변 객체를 직접 참조)
- 함수나 메서드가 어떤 예외도 일으키지 않아야 함
- Optional을 이용하여 예외와 같은 상황 해결 가능
- 비함수형 동작을 감출 수 있는 상황에서만 부작용을 포함하는 라이브러리 함수를 사용해야함

#### 참조 투명성
- 참조 투명성 : 같은 인수로 함수를 호출했을 때 항상 같은 결과를 반환 (부작용을 감춤)
- 비싸거나 오랜 시간이 걸리는 연산을 기억화 또는 캐싱을 통해 다시 계산하지 않고 저장하는 최적화 기능 제공

#### 요약
- 공유된 가변 자료구조를 줄이는 것이 도움
- 함수형 프로그래밍은 부작용이 없는 메서드와 선언형 프로그래밍 방식을 지향
- 함수형 메서드는 입력 인수와 출력 결과만을 갖는다
- 같은 인수값으로 함수를 호출했을 때 항상 같은 값을 반환하면 참조 투명성을 갖는 함수다. while 루프 같은 반복문은 재귀로 대체할 수 있다.
- 자바에서는 고전 방식의 재귀보다는 꼬리 재귀를 사용해야 추가적인 컴파일러 최적화를 기대할 수 있다.
