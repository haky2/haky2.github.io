---
title: 함수형 프로그래밍 기법
tags: 
    - java
categories: JAVA
layout: post
---

#### 일급 함수
- 인수로 전달하거나, 결과로 반환하거나, 자료구조에 저장할 수 있는 함수

#### 고차원 함수
- 하나 이상의 함수를 인수로 받거나, 함수를 결과로 반환하는 함수 (comparing, andThen, compose...)

#### 커링
- x와 y라는 두 인수를 받는 함수 f를 한 개의 인수를 받는 g라는 함수로 대체하는 기법
    <br/>(함수를 모듈화하고 코드를 재사용할 수 있도록 지원하는 기법)
- 이때 g라는 함수 역시 하나의 인수를 받는 함수를 반환. 함수 g와 f가 최종적으로 반환하는 값은 같음
- f(x,y) = (g(x))(y)

#### 영속 자료구조
- 함수형 프로그램에서 사용하는 자료구조
- 기존 자료구조를 갱신하지 않고 새로운 자료구조를 생성 (부작용을 수반하는 메서드를 제한하는 방식)
- 저장된 값이 다른 누군가에 의해 영향을 받지 않는 상태
- `결과 자료구조를 바꾸지 말라`는 것이 자료구조를 사용하는 모든 사용자에게 요구하는 단 한가지 조건!

#### 스트림과 게으른 평가
- 스트림은 요청할 때만 값을 생성
- 스트림에 일련의 연산을 적용하면 연산이 수행되지 않고 일단 저장됨. 최종 연산을 적용해서 실제 계산을 해야 하는 상황에서만 실제 연산이 이루어짐
- 자료구조의 10% 미만의 데이터만 활용하는 상황에서는 게으른 실행으로 인한 오버헤드가 더 커질 수 있음

#### 패턴 매칭
- 자료형을 언랩하는 함수형 기능
- 자바는 패턴 매칭을 지원하지 않음
- 람다를 이용하여 단일 수준의 패턴 매칭을 흉내낼 수 있음
- 여러 개의 if-then-else를 간단히 표현할 수 있음

#### 캐싱 또는 기억화
- 기억화 : 메서드에 래퍼로 캐시(HashMap 같은)를 추가하는 기법
- 다수의 호출자가 공유하는 자료구조를 갱신하는 기법이므로 순수 함수형 해결방식은 아니지만 참조 투명성을 유지 할 수 있음. 또한, 스레드 안전성이 없음
- Map 인터페이스에 computeIfAbsent라는 메서드 이용 가능
- 함수형 프로그래밍을 사용하여 호출하려는 메서드가 공유된 가변 상태를 포함하지 않음을 미리 알 수 있게하는 것이 좋음

#### 함수형 프로그래밍 관점에서의 참조 투명성
- 참조 투명성 : 인수가 같다면 결과도 같아야 함
- 일반적으로 함수형 프로그래밍에서는 데이터가 변경되지 않으므로 같다는 의미는 ==(레퍼런스가 같음)이 아니라 구조적인 값이 같다는 것을 의미

#### 콤비네이터
- 함수를 조합하는 기능
- 두 함수를 인수로 받아 다른 함수를 반환하는 등의 고차원 함수 
  <br/>(ex. CompletableFuture.thenCombine > CompletableFuture와 BiFunction 두 인수를 받아 새로운 CompletableFuture 생성) 